<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Twurple</title>
    <style>
    	@import url('https://fonts.googleapis.com/css?family=Open+Sans:400,700&display=swap');

		html {
			height: 100%;
		}

		html, body, #app-root {
			width: 100%;
			display: flex;
			flex: 1;
			flex-direction: column;
		}
		
		body {
			margin: 0;
			padding: 0;
			font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
			font-size: 14px;
			line-height: 1.6em;
			background: #141414;
			color: #b9b9b9;
		}

		p {
			margin: 8px 0;
		}
		
		:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}

	</style>
    <style id="server-side-styles">.jss13 {
  min-height: 100%;
  border-right: 1px solid #444;
}
.jss16 {
  color: #b9b9b9;
  display: block;
  padding: 8px 0;
}
.jss17 {
  height: 1em;
  margin: 0;
  padding: 4px 8px 4px 12px;
  font-size: 1.1em;
  font-weight: bold;
  line-height: 1em;
  text-transform: uppercase;
}
.jss18 > a {
  padding-left: 20px;
}
.jss14 {
  color: #b9b9b9;
  height: 1em;
  display: block;
  padding: 8px;
  overflow: hidden;
  transition: .3s background-color ease-in-out, .3s border-left-color ease-in-out;
  border-left: .25em solid transparent;
  line-height: 1em;
  text-overflow: ellipsis;
  text-decoration: none;
}
.jss14:hover {
  background-color: #333333;
}
.jss15 {
  border-color: #647d0f;
  background-color: #242424;
}
.jss15:hover {
  border-left-color: #88ab14;
}
.jss25 {
  position: relative;
}
.jss26 {
  top: 8px;
  right: 8px;
  border: 1px solid #444;
  display: flex;
  opacity: 0;
  position: absolute;
  transition: opacity .5s ease-in-out;
  pointer-events: none;
}
.jss25:hover .jss26 {
  opacity: 1;
  pointer-events: auto;
}
.jss27 {
  display: none;
}
.jss28 {
  cursor: pointer;
  padding: 8px;
  transition: background-color .3s ease-in-out;
  border-left: 1px solid #444;
}
.jss28:first-of-type {
  border-left: 0 none;
}
input:checked + .jss28 {
  background: #444;
}
.jss29 {
  tab-size: 2;
}
.jss30 {
  display: block;
  background-color: rgba(9, 180, 50, 0.25);
}
.jss31 {
  display: block;
  background-color: rgba(255, 106, 105, 0.25);
}
.jss21 table {
  border-collapse: collapse;
}
.jss21 th, .jss21 td {
  border: 1px solid #444;
  padding: 8px;
}
.jss21 li {
  margin: 16px 0;
}
.jss21 li::marker {
  color: #647d0f;
}
.jss22 {
  color: inherit;
  transition: border-color .3s ease-in-out;
  font-weight: bold;
  border-bottom: 1.5px solid #647d0f;
  text-decoration: none;
}
.jss22:hover {
  border-bottom-color: #88ab14;
}
.jss23 {
  display: flow-root;
  padding: 0 1em;
  border-left: 4px solid #ab9120;
  margin-bottom: 1em;
  background-color: #242424;
}
.jss24 {
  font-size: 1em;
}
.jss20 {
  padding: 16px;
}
.jss20 h2 {
  margin: 24px 0 16px;
}
.jss20 h2:first-child {
  margin-top: 0;
}
.jss19 {
  color: #b9b9b9;
  padding: 16px;
  position: relative;
  background-color: #242424;
}
.jss19 h1 {
  margin: 0;
  display: inline;
  font-size: 1.5em;
  font-weight: normal;
}
.jss19 p {
  margin: 0;
}
.jss10 {
  flex: 1;
  display: flex;
  flex-direction: row;
}
.jss11 {
  width: 250px;
}
.jss12 {
  flex: 1;
}
.jss1 {
  display: flex;
  border-bottom: 1px solid #444;
}
.jss2 {
  color: #b9b9b9;
  cursor: pointer;
  margin: 0;
  padding: 8px 16px;
  transition: background-color .3s ease-in-out, border-color .3s ease-in-out;
  line-height: 1.3em;
  user-select: none;
  border-bottom: 3px solid transparent;
  text-decoration: none;
}
.jss2:hover {
  background-color: #333333;
}
.jss3 {
  background-color: #242424;
  border-bottom-color: #647d0f;
}
.jss3:hover {
  border-bottom-color: #88ab14;
}
.jss4 {
  font-weight: bold;
  margin-left: 0;
}
.jss5 {
  margin: 0 8px;
  position: relative;
}
.jss5 > .jss2 {
  margin: 0;
}
.jss5:hover .jss6 {
  display: block;
}
.jss6 {
  top: 100%;
  left: 0;
  border: 1px solid #444;
  display: none;
  z-index: 4;
  position: absolute;
  background-color: #141414;
}
.jss7 {
  margin: 0;
  display: block;
  border-left: 3px solid transparent;
  white-space: nowrap;
  border-right: 0 none;
  border-bottom: 0 none;
}
.jss7:first-child {
  border-top: 0 none;
}
.jss8 {
  background-color: #242424;
  border-left-color: #647d0f;
}
.jss8:hover {
  border-left-color: #88ab14;
}
.jss9 {
  flex: 1;
}</style>
</head>
<body>
<div id="app-root"><div class="jss1"><a class="jss2 jss4" href="/versions/main/">Twurple</a><a class="jss2" href="/versions/main/docs/auth/">Authentication</a><a class="jss2" href="/versions/main/docs/getting-data/">Getting data</a><a class="jss2" href="/versions/main/docs/examples/">Examples</a><a class="jss2" href="/versions/main/docs/faq/">FAQ</a><a class="jss2" href="/versions/main/docs/migration/">Migration</a><div class="jss5"><div class="jss2">Reference</div><div class="jss6"><a class="jss2 jss7" href="/versions/main/reference/api/">api</a><a class="jss2 jss7" href="/versions/main/reference/api-call/">api-call</a><a class="jss2 jss7" href="/versions/main/reference/auth/">auth</a><a class="jss2 jss7" href="/versions/main/reference/auth-tmi/">auth-tmi</a><a class="jss2 jss7" href="/versions/main/reference/chat/">chat</a><a class="jss2 jss7" href="/versions/main/reference/common/">common</a><a class="jss2 jss7" href="/versions/main/reference/easy-bot/">easy-bot</a><a class="jss2 jss7" href="/versions/main/reference/ebs-helper/">ebs-helper</a><a class="jss2 jss7" href="/versions/main/reference/eventsub-base/">eventsub-base</a><a class="jss2 jss7" href="/versions/main/reference/eventsub-http/">eventsub-http</a><a class="jss2 jss7" href="/versions/main/reference/eventsub-ws/">eventsub-ws</a><a class="jss2 jss7" href="/versions/main/reference/pubsub/">pubsub</a></div></div><div class="jss9"></div><a href="https://github.com/twurple/twurple" class="jss2"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><div data-dynamic-component="VersionMenu"></div></div><div class="jss10"><div class="jss13 jss11"><a class="jss14" href="/versions/main/docs/examples/">Examples</a><div class="jss16"><h2 class="jss17">Chat</h2><div class="jss18"><a title="Basic bot" aria-current="page" class="jss14 jss15" href="/versions/main/docs/examples/chat/basic-bot.html">Basic bot</a><a title="Preventing sub gift spam" class="jss14" href="/versions/main/docs/examples/chat/sub-gift-spam.html">Preventing sub gift spam</a></div></div></div><div class="jss12"><div class="jss19"><h1>Basic bot</h1></div><div class="jss20"><div class="jss21"><p>In this example, you learn how to set up a basic bot that reacts to a few commands, and also automatically thanks everyone that subscribes, resubscribes or gifts a subscription.</p>
<p>We will achieve authorization by fetching an initial access token from Twitch and then refreshing that token using the refreh token provided by the same request.</p>
<p>If you already have an authentication flow up and running with an <code>AuthProvider</code> instance, you find all you need in step 4 and 5.</p>
<h2>1. Create a Twitch application</h2>
<p>Go to your <a class="jss22" href="https://dev.twitch.tv/console/apps">Twitch developer console</a> and create a new application. If you don&#x27;t know what a Redirect URI is, use <code>http://localhost</code>. Write down Client ID and Client Secret somewhere - you&#x27;re going to need them!</p>
<h2>2. Obtain an access token from Twitch</h2>
<p>Visit this site, with the CLIENT_ID and REDIRECT_URI placeholders replaced with your client ID and redirect URI, respectively:</p>
<pre><code>https://id.twitch.tv/oauth2/authorize?client_id=CLIENT_ID
	&amp;redirect_uri=REDIRECT_URI
	&amp;response_type=code
	&amp;scope=chat:read+chat:edit
</code></pre>
<p>Log in with the account you want to use for your bot and confirm the access to Twitch. You should get redirected to your redirect URI with a query parameter named <code>code</code>.</p>
<p>Using a tool like <a class="jss22" href="https://insomnia.rest/">Insomnia</a> or <a class="jss22" href="https://www.getpostman.com/">Postman</a>, make a <code>POST</code> request to this URL, again, with all placeholders replaced:</p>
<pre><code>https://id.twitch.tv/oauth2/token?client_id=CLIENT_ID
    &amp;client_secret=CLIENT_SECRET
    &amp;code=CODE_FROM_LAST_REQUEST
    &amp;grant_type=authorization_code
    &amp;redirect_uri=REDIRECT_URI
</code></pre>
<p>The response body should look similar to the following:</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span>{
</span></span><span><span>	</span><span class="hljs-attr">&quot;access_token&quot;</span><span>: </span><span style="color:#6a8759">&quot;0123456789abcdefghijABCDEFGHIJ&quot;</span><span>,
</span></span><span><span>	</span><span class="hljs-attr">&quot;refresh_token&quot;</span><span>: </span><span style="color:#6a8759">&quot;eyJfaWQmNzMtNGCJ9%6VFV5LNrZFUj8oU231/3Aj&quot;</span><span>,
</span></span><span><span>	</span><span class="hljs-attr">&quot;expires_in&quot;</span><span>: </span><span style="color:#6896ba">3600</span><span>,
</span></span><span><span>	</span><span class="hljs-attr">&quot;scope&quot;</span><span>: [</span><span style="color:#6a8759">&quot;chat:read&quot;</span><span>, </span><span style="color:#6a8759">&quot;chat:edit&quot;</span><span>],
</span></span><span><span>	</span><span class="hljs-attr">&quot;token_type&quot;</span><span>: </span><span style="color:#6a8759">&quot;bearer&quot;</span><span>
</span></span><span>}
</span></code></pre></pre>
<p>Write down the <code>access_token</code> and <code>refresh_token</code> properties of the response body. These are important for all the other requests you&#x27;re sending to Twitch!</p>
<h2>3. Create an <code>AuthProvider</code> instance</h2>
<p>Now you can finally start writing code! First, import all the classes you&#x27;re going to need from <code>@twurple/auth</code> and <code>@twurple/easy-bot</code>.</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span style="color:#cb7832">import</span><span> { StaticAuthProvider } </span><span style="color:#cb7832">from</span><span> </span><span style="color:#6a8759">&#x27;@twurple/auth&#x27;</span><span>;
</span></span><span><span></span><span style="color:#cb7832">import</span><span> { Bot, createBotCommand } </span><span style="color:#cb7832">from</span><span> </span><span style="color:#6a8759">&#x27;@twurple/easy-bot&#x27;</span><span>;</span></span></code></pre></pre>
<p>All the following code needs to be inside this function (or at least called from inside it) so we can use <code>await</code> and still avoid race conditions.</p>
<p>Now, we can construct a <code>StaticAuthProvider</code> instance using a static auth provider:</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span style="color:#cb7832">const</span><span> clientId = </span><span style="color:#6a8759">&#x27;uo6dggojyb8d6soh92zknwmi5ej1q2&#x27;</span><span>;
</span></span><span><span></span><span style="color:#cb7832">const</span><span> accessToken = </span><span style="color:#6a8759">&#x27;0123456789abcdefghijABCDEFGHIJ&#x27;</span><span>;
</span></span><span><span></span><span style="color:#cb7832">const</span><span> authProvider = </span><span style="color:#cb7832">new</span><span> StaticAuthProvider(clientId, accessToken);</span></span></code></pre></pre>
<h2>4. Connect to chat</h2>
<p>Using the <code>AuthProvider</code> instance we just created, we can easily create a <code>Bot</code> instance.
It will automatically connect to the chat server.
The given channels will automatically be joined after connecting.</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span style="color:#cb7832">const</span><span> bot = </span><span style="color:#cb7832">new</span><span> Bot({ authProvider, </span><span class="hljs-attr">channels</span><span>: [</span><span style="color:#6a8759">&#x27;satisfiedpear&#x27;</span><span>] });</span></span></code></pre></pre>
<p>Now you can run your code and see your bot sitting in your channel. But we want it to do something!</p>
<h2>5. Listen and react to events</h2>
<p>The <code>Bot</code> configuration makes it easy to react to chat commands.
With the following change to the constructor, we can add two basic commands:</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span style="color:#cb7832">const</span><span> bot = </span><span style="color:#cb7832">new</span><span> Bot({
</span></span><span>	authProvider,
</span><span><span>	</span><span class="hljs-attr">channels</span><span>: [</span><span style="color:#6a8759">&#x27;satisfiedpear&#x27;</span><span>],
</span></span><span><span>	</span><span class="hljs-attr">commands</span><span>: [
</span></span><span><span>		createBotCommand(</span><span style="color:#6a8759">&#x27;dice&#x27;</span><span>, </span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">params, { reply }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>			</span><span style="color:#cb7832">const</span><span> diceRoll = </span><span style="color:#e0c46c">Math</span><span>.floor(</span><span style="color:#e0c46c">Math</span><span>.random() * </span><span style="color:#6896ba">6</span><span>) + </span><span style="color:#6896ba">1</span><span>;
</span></span><span><span>			reply(</span><span style="color:#6a8759">`You rolled a </span><span style="color:#e0c46c">${diceRoll}</span><span style="color:#6a8759">`</span><span>);
</span></span><span>		}),
</span><span><span>		createBotCommand(</span><span style="color:#6a8759">&#x27;slap&#x27;</span><span>, </span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">params, { userName, say }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>			say(</span><span style="color:#6a8759">`</span><span style="color:#e0c46c">${userName}</span><span style="color:#6a8759"> slaps </span><span style="color:#e0c46c">${params.join(</span><span style="color:#e0c46c">&#x27; &#x27;</span><span style="color:#e0c46c">)}</span><span style="color:#6a8759"> around a bit with a large trout`</span><span>);
</span></span><span>		})
</span><span>	]
</span><span>});
</span></code></pre></pre>
<p>These commands can now be accessed using <code>!dice</code> and <code>!slap AnotherUser</code> in the joined channel(s).</p>
<p>Handling subscriptions (and lots of other events) is also pretty easy.</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span>bot.onSub(</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">{ broadcasterName, userName }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>	bot.say(broadcasterName, </span><span style="color:#6a8759">`Thanks to @</span><span style="color:#e0c46c">${userName}</span><span style="color:#6a8759"> for subscribing to the channel!`</span><span>);
</span></span><span>});
</span><span>
</span><span><span>bot.onResub(</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">{ broadcasterName, userName, months }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>	bot.say(broadcasterName, </span><span style="color:#6a8759">`Thanks to @</span><span style="color:#e0c46c">${userName}</span><span style="color:#6a8759"> for subscribing to the channel for a total of </span><span style="color:#e0c46c">${months}</span><span style="color:#6a8759"> months!`</span><span>);
</span></span><span>});
</span><span>
</span><span><span>bot.onSubGift(</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">{ broadcasterName, gifterName, userName }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>	bot.say(broadcasterName, </span><span style="color:#6a8759">`Thanks to @</span><span style="color:#e0c46c">${gifterName}</span><span style="color:#6a8759"> for gifting a subscription to @</span><span style="color:#e0c46c">${userName}</span><span style="color:#6a8759">!`</span><span>);
</span></span><span>});
</span></code></pre></pre>
<p>Now you have a working bot! Until you have to restart it a few hours later...</p>
<h2>6. Setting up automatic token refreshing</h2>
<p>Fortunately, with the access token in step 2, we also got a refresh token! <em>(You wrote that down, didn&#x27;t you?)</em></p>
<p>With that, you can create another type of auth provider that supports multi-user operation (via the <code>addUserForToken</code> method)
and automatically refreshes all tokens stored in it.</p>
<p>For the bot to figure out which user to connect as, you need to specify which one you want to use for chat.</p>
<p>The feature managing this is called <strong>intents</strong>.
You can give a user a specific set of intents by passing them to the <code>addUserForToken</code> function as the second parameter.
The bot looks for the <code>chat</code> intent by default.</p>
<p>Just replace the initialization line with this (but keep the <code>clientId</code> and <code>accessToken</code> constants):</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span style="color:#7f7f7f">// replace @twurple/auth import line</span><span>
</span></span><span><span></span><span style="color:#cb7832">import</span><span> { RefreshingAuthProvider } </span><span style="color:#cb7832">from</span><span> </span><span style="color:#6a8759">&#x27;@twurple/auth&#x27;</span><span>;
</span></span><span>
</span><span><span></span><span style="color:#cb7832">const</span><span> clientSecret = </span><span style="color:#6a8759">&#x27;nyo51xcdrerl8z9m56w9w6wg&#x27;</span><span>;
</span></span><span><span></span><span style="color:#cb7832">const</span><span> refreshToken = </span><span style="color:#6a8759">&#x27;eyJfaWQmNzMtNGCJ9%6VFV5LNrZFUj8oU231/3Aj&#x27;</span><span>;
</span></span><span>
</span><span><span></span><span style="color:#cb7832">const</span><span> authProvider = </span><span style="color:#cb7832">new</span><span> RefreshingAuthProvider(
</span></span><span>	{
</span><span>		clientId,
</span><span>		clientSecret
</span><span>	}
</span><span>);
</span><span>
</span><span><span></span><span style="color:#cb7832">await</span><span> authProvider.addUserForToken({
</span></span><span>	accessToken,
</span><span>	refreshToken
</span><span><span>}, [</span><span style="color:#6a8759">&#x27;chat&#x27;</span><span>]);</span></span></code></pre></pre>
<h2>7. Persisting the refreshed token data</h2>
<p>The last problem we have is restarting the bot. When it crashes for any reason, the refreshed token is gone and the application will try using the old token again, which probably fails.</p>
<p>The <code>refreshConfig</code> parameter we just added can contain another property named <code>onRefresh</code>. Using this, you can persist tokens as soon as they&#x27;re refreshed.</p>
<p>To prepare for this, let&#x27;s move the tokens to a JSON file named <code>tokens.125328655.json</code>:</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span>{
</span></span><span><span>	</span><span class="hljs-attr">&quot;accessToken&quot;</span><span>: </span><span style="color:#6a8759">&quot;0123456789abcdefghijABCDEFGHIJ&quot;</span><span>,
</span></span><span><span>	</span><span class="hljs-attr">&quot;refreshToken&quot;</span><span>: </span><span style="color:#6a8759">&quot;eyJfaWQmNzMtNGCJ9%6VFV5LNrZFUj8oU231/3Aj&quot;</span><span>,
</span></span><span><span>	</span><span class="hljs-attr">&quot;expiresIn&quot;</span><span>: </span><span style="color:#6896ba">0</span><span>,
</span></span><span><span>	</span><span class="hljs-attr">&quot;obtainmentTimestamp&quot;</span><span>: </span><span style="color:#6896ba">0</span><span>
</span></span><span>}
</span></code></pre></pre>
<p>I also added two new properties called <code>expiresIn</code> and <code>obtainmentTimestamp</code>. They will save the expiry time of the access token so the client can determine when to refresh the token without making a failing call first. If you didn&#x27;t get a current timetamp when sending the manual code request (you probably didn&#x27;t - I wouldn&#x27;t either), you can initialize them to zero to always make a refresh call in the beginning.</p>
<p>Now, we can parse this JSON file on startup, load the tokens from it and when the tokens refresh,
save them back into the same file. (We&#x27;re adding the user ID to the file name dynamically in the callback to make it easy to extend to multiple users later.)</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span style="color:#7f7f7f">// add to imports</span><span>
</span></span><span><span></span><span style="color:#cb7832">import</span><span> { promises </span><span style="color:#cb7832">as</span><span> fs } </span><span style="color:#cb7832">from</span><span> </span><span style="color:#6a8759">&#x27;fs&#x27;</span><span>;
</span></span><span>
</span><span><span></span><span style="color:#7f7f7f">// replace the constructor lines</span><span>
</span></span><span><span></span><span style="color:#cb7832">const</span><span> tokenData = </span><span style="color:#e0c46c">JSON</span><span>.parse(</span><span style="color:#cb7832">await</span><span> fs.readFile(</span><span style="color:#6a8759">&#x27;./tokens.125328655.json&#x27;</span><span>, </span><span style="color:#6a8759">&#x27;UTF-8&#x27;</span><span>));
</span></span><span><span></span><span style="color:#cb7832">const</span><span> authProvider = </span><span style="color:#cb7832">new</span><span> RefreshingAuthProvider(
</span></span><span>	{
</span><span>		clientId,
</span><span>		clientSecret,
</span><span><span>		</span><span class="hljs-attr">onRefresh</span><span>: </span><span style="color:#cb7832">async</span><span> (userId, newTokenData) =&gt; </span><span style="color:#cb7832">await</span><span> fs.writeFile(</span><span style="color:#6a8759">`./tokens.</span><span style="color:#e0c46c">${userId}</span><span style="color:#6a8759">.json`</span><span>, </span><span style="color:#e0c46c">JSON</span><span>.stringify(newTokenData, </span><span style="color:#6896ba">null</span><span>, </span><span style="color:#6896ba">4</span><span>), </span><span style="color:#6a8759">&#x27;UTF-8&#x27;</span><span>)
</span></span><span>	}
</span><span>);
</span><span>
</span><span><span></span><span style="color:#cb7832">await</span><span> authProvider.addUserForToken(tokenData, [</span><span style="color:#6a8759">&#x27;chat&#x27;</span><span>]);</span></span></code></pre></pre>
<h2>8. ???</h2>
<p>We&#x27;re done! Your bot should now connect to chat and react to a few basic commands as well as subs, resubs and gift subs. It is able to recover gracefully when crashing.</p>
<h2>9. Profit!</h2>
<p>Now you can implement a more elaborate command system, add more events to react to, and much more! All events are documented in the <a class="jss22" href="/versions/main/reference/easy-bot/classes/Bot.html">Bot</a> class. And don&#x27;t forget to have fun!</p>
<p>For reference, here&#x27;s the full code that <em>should</em> be the result of everything we just did:</p>
<pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#2b2b2b;color:#bababa"><code class="jss29" style="white-space:pre-wrap"><span><span style="color:#cb7832">import</span><span> { RefreshingAuthProvider } </span><span style="color:#cb7832">from</span><span> </span><span style="color:#6a8759">&#x27;@twurple/auth&#x27;</span><span>;
</span></span><span><span></span><span style="color:#cb7832">import</span><span> { Bot, createBotCommand } </span><span style="color:#cb7832">from</span><span> </span><span style="color:#6a8759">&#x27;@twurple/easy-bot&#x27;</span><span>;
</span></span><span><span></span><span style="color:#cb7832">import</span><span> { promises </span><span style="color:#cb7832">as</span><span> fs } </span><span style="color:#cb7832">from</span><span> </span><span style="color:#6a8759">&#x27;fs&#x27;</span><span>;
</span></span><span>
</span><span><span></span><span style="color:#cb7832">const</span><span> clientId = </span><span style="color:#6a8759">&#x27;uo6dggojyb8d6soh92zknwmi5ej1q2&#x27;</span><span>;
</span></span><span><span></span><span style="color:#cb7832">const</span><span> clientSecret = </span><span style="color:#6a8759">&#x27;nyo51xcdrerl8z9m56w9w6wg&#x27;</span><span>;
</span></span><span><span></span><span style="color:#cb7832">const</span><span> tokenData = </span><span style="color:#e0c46c">JSON</span><span>.parse(</span><span style="color:#cb7832">await</span><span> fs.readFile(</span><span style="color:#6a8759">&#x27;./tokens.125328655.json&#x27;</span><span>, </span><span style="color:#6a8759">&#x27;UTF-8&#x27;</span><span>));
</span></span><span><span></span><span style="color:#cb7832">const</span><span> authProvider = </span><span style="color:#cb7832">new</span><span> RefreshingAuthProvider(
</span></span><span>	{
</span><span>		clientId,
</span><span>		clientSecret,
</span><span><span>		</span><span class="hljs-attr">onRefresh</span><span>: </span><span style="color:#cb7832">async</span><span> (userId, newTokenData) =&gt; </span><span style="color:#cb7832">await</span><span> fs.writeFile(</span><span style="color:#6a8759">`./tokens.</span><span style="color:#e0c46c">${userId}</span><span style="color:#6a8759">.json`</span><span>, </span><span style="color:#e0c46c">JSON</span><span>.stringify(newTokenData, </span><span style="color:#6896ba">null</span><span>, </span><span style="color:#6896ba">4</span><span>), </span><span style="color:#6a8759">&#x27;UTF-8&#x27;</span><span>)
</span></span><span>	}
</span><span>);
</span><span>
</span><span><span></span><span style="color:#cb7832">await</span><span> authProvider.addUserForToken(tokenData, [</span><span style="color:#6a8759">&#x27;chat&#x27;</span><span>]);
</span></span><span>
</span><span><span></span><span style="color:#cb7832">const</span><span> bot = </span><span style="color:#cb7832">new</span><span> Bot({
</span></span><span>	authProvider,
</span><span><span>	</span><span class="hljs-attr">channels</span><span>: [</span><span style="color:#6a8759">&#x27;satisfiedpear&#x27;</span><span>],
</span></span><span><span>	</span><span class="hljs-attr">commands</span><span>: [
</span></span><span><span>		createBotCommand(</span><span style="color:#6a8759">&#x27;dice&#x27;</span><span>, </span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">params, { reply }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>			</span><span style="color:#cb7832">const</span><span> diceRoll = </span><span style="color:#e0c46c">Math</span><span>.floor(</span><span style="color:#e0c46c">Math</span><span>.random() * </span><span style="color:#6896ba">6</span><span>) + </span><span style="color:#6896ba">1</span><span>;
</span></span><span><span>			reply(</span><span style="color:#6a8759">`You rolled a </span><span style="color:#e0c46c">${diceRoll}</span><span style="color:#6a8759">`</span><span>);
</span></span><span>		}),
</span><span><span>		createBotCommand(</span><span style="color:#6a8759">&#x27;slap&#x27;</span><span>, </span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">params, { userName, say }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>			say(</span><span style="color:#6a8759">`</span><span style="color:#e0c46c">${userName}</span><span style="color:#6a8759"> slaps </span><span style="color:#e0c46c">${params.join(</span><span style="color:#e0c46c">&#x27; &#x27;</span><span style="color:#e0c46c">)}</span><span style="color:#6a8759"> around a bit with a large trout`</span><span>);
</span></span><span>		})
</span><span>	]
</span><span>});
</span><span>
</span><span><span>bot.onSub(</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">{ broadcasterName, userName }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>	bot.say(broadcasterName, </span><span style="color:#6a8759">`Thanks to @</span><span style="color:#e0c46c">${userName}</span><span style="color:#6a8759"> for subscribing to the channel!`</span><span>);
</span></span><span>});
</span><span><span>bot.onResub(</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">{ broadcasterName, userName, months }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>	bot.say(broadcasterName, </span><span style="color:#6a8759">`Thanks to @</span><span style="color:#e0c46c">${userName}</span><span style="color:#6a8759"> for subscribing to the channel for a total of </span><span style="color:#e0c46c">${months}</span><span style="color:#6a8759"> months!`</span><span>);
</span></span><span>});
</span><span><span>bot.onSubGift(</span><span class="hljs-function">(</span><span class="hljs-function" style="color:#b9b9b9">{ broadcasterName, gifterName, userName }</span><span class="hljs-function">) =&gt;</span><span> {
</span></span><span><span>	bot.say(broadcasterName, </span><span style="color:#6a8759">`Thanks to @</span><span style="color:#e0c46c">${gifterName}</span><span style="color:#6a8759"> for gifting a subscription to @</span><span style="color:#e0c46c">${userName}</span><span style="color:#6a8759">!`</span><span>);
</span></span><span>});
</span></code></pre></pre></div></div></div></div></div>
<script src="/versions/main/pe.js"></script>
</body>
</html>